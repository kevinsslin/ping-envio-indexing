# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
name: ping-envio-indexing
networks:
- id: 8453
  start_block: 37000833
  contracts:
  - name: Ping
    address:
    - 0xd85c31854c2B0Fb40aaA9E2Fc4Da23C21f829d46
    handler: src/EventHandlers.ts
    events:
    - event: Approval(address indexed owner, address indexed spender, uint256 value)
    - event: AuthorizationCanceled(address indexed authorizer, bytes32 indexed nonce)
    - event: AuthorizationUsed(address indexed authorizer, bytes32 indexed nonce)
    - event: EIP712DomainChanged()
    - event: FeesCollected(address recipient, uint256 amountToken0, uint256 amountToken1)
    - event: LiquidityDeployed(uint256 tokenId, uint128 liquidity)
    - event: OwnershipTransferred(address indexed previousOwner, address indexed newOwner)
    - event: RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole)
    - event: RoleGranted(bytes32 indexed role, address indexed account, address indexed sender)
    - event: RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender)
    - event: Transfer(address indexed from, address indexed to, uint256 value)
      field_selection:
        transaction_fields:
          - hash
  # Uniswap V3 contracts
  - name: UniswapV3Factory
    address:
    - 0x33128a8fC17869897dcE68Ed026d694621f6FDfD
    handler: src/EventHandlers.ts
    events:
    - event: PoolCreated(address indexed token0, address indexed token1, uint24 indexed fee, int24 tickSpacing, address pool)
  - name: UniswapV3Pool
    handler: src/EventHandlers.ts
    events:
    - event: Initialize(uint160 sqrtPriceX96, int24 tick)
    - event: Swap(address indexed sender, address indexed recipient, int256 amount0, int256 amount1, uint160 sqrtPriceX96, uint128 liquidity, int24 tick)
      field_selection:
        transaction_fields:
          - hash
          - from
  # Uniswap V4 contracts
  - name: UniswapV4PoolManager
    address:
    - 0x498581fF718922c3f8e6A244956aF099B2652b2b
    handler: src/EventHandlersV4.ts
    events:
    # Pool initialization event (replaces Factory.PoolCreated in V3)
    - event: Initialize(bytes32 indexed id, address indexed currency0, address indexed currency1, uint24 fee, int24 tickSpacing, address hooks, uint160 sqrtPriceX96, int24 tick)
      field_selection:
        transaction_fields:
          - hash
    # Swap event
    - event: Swap(bytes32 indexed id, address indexed sender, int128 amount0, int128 amount1, uint160 sqrtPriceX96, uint128 liquidity, int24 tick, uint24 swapFee)
      field_selection:
        transaction_fields:
          - hash
          - from
unordered_multichain_mode: true
preload_handlers: true
